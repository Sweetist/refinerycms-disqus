(function(){'use strict';(function(a,d){d.Object.create({name:"Disqus",module:"disqus",options:{url:"http://{shortname}.disqus.com/embed.js"},destroy:function(){this.is("initialised")&&"object"===typeof DISQUS&&DISQUS.reset({reload:!1});this._destroy();return this},a:function(){var b=this.holder.data("disqus"),c=b.page||{};"object"===typeof DISQUS?DISQUS.reset({reload:!0,config:function(){for(var a in b)b.hasOwnProperty(a)&&(this[a]=b[a])}}):(a.disqus_shortname=b.shortname,a.disqus_identifier=c.identifier,a.disqus_title=
c.title,a.disqus_url=c.url,a.disqus_category_id=b.category_id,$("<script/>",{async:!0,src:this.options.url.replace("{shortname}",a.disqus_shortname)}).appendTo($("head")))},init:function(a){this.is("initialisable")&&(this.is("initialising",!0),this.holder=a,this.a(),this.is({initialised:!0,initialising:!1}),this.trigger("init"));return this}});d.ui.disqus=function(a,c){a.find("#disqus_thread").each(function(){c.addObject(d("disqus.Disqus").init($(this)))})}})(window,refinery);}());
